/**
 * @file Firestore Security Rules for GuiaDoar Application
 * @version Prototyping
 *
 * @description
 * This ruleset enforces a public-read model for donation points and app configuration,
 * while restricting all write operations. This is a temporary, permissive setup for
 * early development and prototyping.
 *
 * Data Structure:
 * - /donation-points/{donationPointId}: Stores public donation point information.
 * - /app-config/{configId}: Stores global application configuration, like categories.
 *
 * Key Security Decisions:
 * - Donation points and app config are publicly readable to all users (authenticated or not).
 * - All write operations (create, update, delete) are currently denied for all collections.
 *   This is a safeguard during prototyping. Future rules will grant specific write
 *   permissions to authenticated administrators.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Donation points are publicly accessible for reading.
     * Writes are currently denied to all users.
     * @path /donation-points/{donationPointId}
     */
    match /donation-points/{donationPointId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Global application configuration is publicly readable.
     * Writes are currently denied.
     * @path /app-config/{configId}
     */
    match /app-config/{configId} {
        allow get, list: if true;
        allow create, update, delete: if false;
    }
  }
}
